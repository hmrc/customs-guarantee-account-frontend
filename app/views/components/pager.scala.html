@*
 * Copyright 2021 HM Revenue & Customs
 *
 *@

@import viewmodels.Paginated

@(model: Paginated)(implicit messages: Messages)

@if(!model.dataFitsOnOnePage) {
    <nav class="govuk-pagination" id="pagination-label">
        <p class="govuk-visually-hidden">Pagination navigation</p>
        <ul class="govuk-pagination__list">
            @if(!model.isFirstPage) {
                @linkToPreviousPage
            }
            @for(pageNumber <- model.pageRange) {
                @linkToPage(pageNumber)
            }
            @if(!model.isLastPage) {
                @linkToNextPage
            }
        </ul>
        <p class="govuk-pagination__results">@messages("cf.pager.summary") <b>@(model.firstItemOnPage+1)</b> @messages("cf.pager.summary.to")
        <b> @(model.lastItemOnPage)</b>  @messages("cf.pager.summary.of") <b>@(model.itemsGroupedByDate.length)</b>  @messages("cf.pager.items") </p>
    </nav>
}

@linkToPreviousPage = {
    <li class="govuk-pagination__item  govuk-pagination__item--prev">
        <a class="govuk-pagination__link" href="@{model.urlForPage(model.currentPage - 1)}">@messages("cf.pager.prev")<span class="govuk-visually-hidden"> @messages("cf.pager.summary.accessibility")</span></a>
    </li>
}

@linkToNextPage = {
    <li class="govuk-pagination__item  govuk-pagination__item--next">
        <a class="govuk-pagination__link" href="@{model.urlForPage(model.currentPage + 1)}">@messages("cf.pager.next")<span class="govuk-visually-hidden"> @messages("cf.pager.summary.accessibility")</span></a>
    </li>
}

@linkToPage(pageNumber: Int) = {
    @if(pageNumber == model.currentPage) {
        <li class="govuk-pagination__item govuk-pagination__number govuk-pagination__item--active">@{pageNumber}</li>
    } else {
        <li class="govuk-pagination__item govuk-pagination__number">
            <a class="govuk-pagination__link" href="@{model.urlForPage(pageNumber)}">@{pageNumber}</a>
        </li>
    }
}